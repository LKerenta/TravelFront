<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>数据统计</title>

    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/font-awesome/css/font-awesome.css" rel="stylesheet">
    <!-- c3 Charts -->
    <link href="/css/plugins/c3/c3.min.css" rel="stylesheet">
    <!-- orris -->
    <link href="css/plugins/morris/morris-0.4.3.min.css" rel="stylesheet">

    <link href="/css/animate.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">

</head>

<body class="">

    <div id="wrapper">

    <nav class="navbar-default navbar-static-side" role="navigation">
        <div class="sidebar-collapse">
            <ul class="nav metismenu" id="side-menu">
                <li class="nav-header">
                    <div class="dropdown profile-element"> <span>
                        <img alt="image" width="50" height="50" class="img-circle" th:src="@{'http://localhost:8080/src/pic/'+${Manager.MaImage}}" />
                         </span>
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                        <span class="clear"> <span class="block m-t-xs"> <strong class="font-bold" th:text="${Manager.MaName}">Admin</strong>
                         </span> <span class="text-muted text-xs block">管理员<b class="caret"></b></span> </span> </a>
                        <ul class="dropdown-menu animated fadeInRight m-t-xs">
                            <li><a href="/Tourist_Backstage/manager_info">个人信息</a></li>
                            <li class="divider"></li>
                            <li><a href="/Tourist/login">退出登录</a></li>
                        </ul>
                    </div>
                    <div class="logo-element">
                        IN+
                    </div>
                </li>
                <li>
                    <a href="/Tourist_Backstage/index"><i class="fa fa-home"></i> <span class="nav-label">首页</span></a>
                </li>
                <li>
                    <a href="#"><i class="fa fa-users"></i> <span class="nav-label">用户管理</span><span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level collapse">
                        <li><a href="/Tourist_Backstage/user_list">游客用户管理</a></li>
                        <li><a href="/Tourist_Backstage/seller_list">经销商用户管理</a></li>
                        <li><a href="/Tourist_Backstage/user_add">用户添加</a></li>
                        <li><a href="/Tourist_Backstage/seller_add">经销商添加</a></li>
                    </ul>
                </li>
                <li>
                    <a href="/Tourist_Backstage/order_list"><i class="fa fa-archive"></i> <span class="nav-label">订单管理</span></a>
                </li>
                <li>
                    <a href="/Tourist_Backstage/item_list"><i class="fa fa-shopping-cart"></i> <span class="nav-label">商品管理</span></a>
                </li>
                <li>
                    <a href="/Tourist_Backstage/item_examine"><i class="fa fa-upload"></i> <span class="nav-label">商品审核</span></a>
                </li>
                <li>
                    <a href="/Tourist_Backstage/comment_list"><i class="fa fa-comments"></i> <span class="nav-label">评论管理</span></a>
                </li>
                <li class="active">
                    <a href="/Tourist_Backstage/statistics"><i class="fa fa-pie-chart"></i> <span class="nav-label">数据统计</span></a>
                </li>
                <li>
                    <a href="/Tourist_Backstage/asset_manage"><i class="fa fa-money"></i> <span class="nav-label">资产管理</span></a>
                </li>
            </ul>

        </div>
    </nav>

    <div id="page-wrapper" class="gray-bg">
        <div class="row border-bottom">
        <nav class="navbar navbar-static-top  " role="navigation" style="margin-bottom: 0">
        <div class="navbar-header">
            <a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#"><i class="fa fa-bars"></i> </a>
        </div>
            <ul class="nav navbar-top-links navbar-right">
                <li>
                    <span class="m-r-sm text-muted welcome-message">欢迎来到抱团旅游网站后台管理系统</span>
                </li>
                <li>
                    <a href="/Tourist/login">
                        <i class="fa fa-sign-out"></i> 退出登录
                    </a>
                </li>
            </ul>

        </nav>
        </div>
        <div class="row wrapper border-bottom white-bg page-heading">
            <div class="col-sm-4">
                <h2>数据统计</h2>
                <ol class="breadcrumb">
                    <li>
                        <a href="backstage_index.html">首页</a>
                    </li>
                    <li class="active">
                        <strong>数据统计</strong>
                    </li>
                </ol>
            </div>
        </div>

        <div class="wrapper wrapper-content animated fadeInRight">
            <div class="row">
                <div class="col-lg-12">
                    <div class="ibox float-e-margins">
                        <div class="ibox-title">
                            <h5>本月订单数</h5>
                        </div>
                        <div class="ibox-content">
                            <div>
                                <div id="lineChart"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="ibox float-e-margins">
                        <div class="ibox-title">
                            <h5>本月日收入</h5>
                        </div>
                        <div class="ibox-content">
                            <div>
                                <div id="lineChartIncome"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <div class="ibox">
                        <div class="ibox-content">
                            <h5>上月收入</h5>
                            <h1 class="no-margins" th:text="${lastMonthInCome}">1 738,200</h1>
                            <div class="stat-percent font-bold text-navy"><i class="fa fa-bolt"></i></div>
                            <small>总收入</small>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="ibox">
                        <div class="ibox-content">
                            <h5>总收入</h5>
                            <h1 class="no-margins" th:text="${AllInCome}">54,200</h1>
                            <div class="stat-percent font-bold text-danger"><i class="fa fa-level-down"></i></div>
                            <small>总收入</small>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="ibox">
                        <div class="ibox-content">
                            <h5>上月订单</h5>
                            <h1 class="no-margins" th:text="${lastMonthOrders}">4103</h1>
                            <div class="stat-percent font-bold text-navy"><i class="fa fa-bolt"></i></div>
                            <small>总订单数</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <div class="ibox">
                        <div class="ibox-content">
                            <h5>总订单</h5>
                            <h1 class="no-margins" th:text="${AllOrders}">86,200</h1>
                            <div class="stat-percent font-bold text-danger"><i class="fa fa-level-down"></i></div>
                            <small>总订单数</small>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="ibox">
                        <div class="ibox-content">
                            <h5>商品总数</h5>
                            <h1 class="no-margins" th:text="${allGoods}">3230</h1>
                            <div class="stat-percent font-bold text-navy"><i class="fa fa-bolt"></i></div>
                            <small>总商品数</small>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="ibox">
                        <div class="ibox-content">
                            <h5>评论数</h5>
                            <h1 class="no-margins" th:text="${comments}">56,200</h1>
                            <div class="stat-percent font-bold text-navy"><i class="fa fa-bolt"></i></div>
                            <small>总评论数</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <div class="ibox float-e-margins">
                        <div class="ibox-title">
                            <h5>商品状态饼图</h5>
                        </div>
                        <div class="ibox-content">
                            <div>
                                <div id="pie"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="ibox float-e-margins">
                        <div class="ibox-title">
                            <h5>订单状态饼图</h5>
                        </div>
                        <div class="ibox-content">
                            <div>
                                <div id="pie2"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer">
            <div>
                <strong>Copyright</strong> 版权所有 &copy; 2014-2015
            </div>
        </div>
        </div> 
    </div>

    

    <!-- Mainly scripts -->
    <script src="/js/jquery-2.1.1.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/plugins/metisMenu/jquery.metisMenu.js"></script>
    <script src="/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>


    <!-- Peity -->
    <script src="/js/plugins/peity/jquery.peity.min.js"></script>
    <script src="/js/demo/peity-demo.js"></script>

    <!-- d3 and c3 charts -->
    <script src="/js/plugins/d3/d3.min.js"></script>
    <script src="/js/plugins/c3/c3.min.js"></script>


    <!-- Custom and plugin javascript -->
    <script src="/js/inspinia.js"></script>
    <script src="/js/plugins/pace/pace.min.js"></script>

    <!-- Morris demo data-->
    <script src="js/demo/morris-demo.js"></script>

    <script th:inline="javascript">
        $(document).ready(function() {

            var orderEnd = [[${orderEnd}]];
            console.log(orderEnd);
            var orderNotEnd = [[${orderNotEnd}]];
            console.log(orderNotEnd);
            var orderDraw = [[${orderDraw}]];
            console.log(orderDraw);

            c3.generate({
                bindto: '#pie2',
                data: {
                    columns: [
                        ['正常完成', orderEnd],
                        ['未结束', orderNotEnd],
                        ['退款', orderDraw]
                    ],
                    colors: {
                        正常完成: '#1ab394',
                        未结束: '#BABABA',
                        退款: '#C82E31'
                    },
                    type: 'pie'
                }
            });

            var pass = [[${Pass}]];
            console.log(pass);
            var notPass = [[${notPass}]];
            console.log(notPass);
            var Examine = [[${Examine}]];
            console.log(Examine);

            c3.generate({
                bindto: '#pie',
                data: {
                    columns: [
                        ['未审核', Examine],
                        ['已审核', pass],
                        ['未通过', notPass]
                    ],
                    colors: {
                        未审核: '#1ab394',
                        已审核: '#BABABA',
                        未通过: '#87CEFA'
                    },
                    type: 'pie'
                }
            });

            var dayOrdersList = [[${dayOrdersList}]];
            console.log(dayOrdersList);

            c3.generate({
                bindto: '#lineChart',
                data:{
                    columns: [
                        ['订单数', dayOrdersList[1],dayOrdersList[2],dayOrdersList[3],dayOrdersList[4],dayOrdersList[5],dayOrdersList[6],dayOrdersList[7],dayOrdersList[8],dayOrdersList[9],dayOrdersList[10],
                            dayOrdersList[11],dayOrdersList[12],dayOrdersList[13],dayOrdersList[14],dayOrdersList[15],dayOrdersList[16],dayOrdersList[17],dayOrdersList[18],dayOrdersList[19],dayOrdersList[20],
                            dayOrdersList[21],dayOrdersList[22],dayOrdersList[23],dayOrdersList[24],dayOrdersList[25],dayOrdersList[26],dayOrdersList[27],dayOrdersList[28],dayOrdersList[29],dayOrdersList[30],
                            dayOrdersList[31]]
                    ],
                    colors:{
                        订单数: '#1ab394'
                    }
                }
            });

            var dayInComeList = [[${dayInComeList}]];
            console.log(dayInComeList);
            c3.generate({
                bindto: '#lineChartIncome',
                data:{
                    columns: [
                        ['收入', dayInComeList[1],dayInComeList[2],dayInComeList[3],dayInComeList[4],dayInComeList[5],dayInComeList[6],dayInComeList[7],dayInComeList[8],dayInComeList[9],dayInComeList[10],
                            dayInComeList[11],dayInComeList[12],dayInComeList[13],dayInComeList[14],dayInComeList[15],dayInComeList[16],dayInComeList[17],dayInComeList[18],dayInComeList[19],dayInComeList[20],
                            dayInComeList[21],dayInComeList[22],dayInComeList[23],dayInComeList[24],dayInComeList[25],dayInComeList[26],dayInComeList[27],dayInComeList[28],dayInComeList[29],dayInComeList[30],
                            dayInComeList[31]]
                    ],
                    colors:{
                        收入: '#AF2018'
                    }
                }
            });
        });


    </script>


</body>

</html>
